@model VehiclesProject.Model.VehicleMakePoco

@using PagedList.Mvc;
<link href="~/Content/PagedList.css" rel="stylesheet" type="text/css" />

@{
    ViewBag.Title = "Details";
}

<br />
<h2>Details</h2>

@* Search forma za pretraživanje Model-a. *@
@*@using (Html.BeginForm("_VehicleModelList", "VehicleModel", FormMethod.Get))*@


<div>
    <h4>Vehicle Make</h4>
    <hr />
               
    <dl class="dl-horizontal">      
          
        <dt>
            @Html.DisplayNameFor(model => model.Name)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Name)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Abrev)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Abrev)
        </dd>

        <dd>
            <br />
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.VehicleModels)
        </dt>
                
        @*

        @if (ViewBag.NumItems != 0)
        {            
            <dd>                       
                <table class="table">
                    <tr>
                        <th>Number of vehicle models: @ViewBag.NumItems   </th>
                    </tr>                  
                                       
                    <tr>
                        <th>Model Name</th>
                        <th>Model Abbrevation</th>
                        <td>
                            <p>
                                @Html.ActionLink("Create New Model", "Create", "VehicleModel", new { id = @Model.Id }, null)
                            </p>
                        </td>
                    </tr>

                    @if (Model.VehicleModels != null)
                    {
                        foreach (var item in Model.VehicleModels)
                        {
                            <tr>
                                <td>
                                    @Html.DisplayFor(modelItem => item.Name)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.Abrev)
                                </td>
                                <td>
                                    @Html.ActionLink("Edit", "Edit", "VehicleModel", new { id = item.Id }, null) |
                                    @Html.ActionLink("Details", "Details", "VehicleModel", new { id = item.Id }, null) |
                                    @Html.ActionLink("Delete", "Delete", "VehicleModel", new { id = item.Id, makeId = item.MakeId }, null)
                                </td>
                            </tr>
                        }
                    }
                </table>
            </dd>
        }
        else
        {
            <dd>
                <p>
                    There are currently no models for this vehicle make
                </p>
                <p>
                    @Html.ActionLink("Create New Model", "Create", "VehicleModel", new { id = @Model.Id }, null)
                </p>
            </dd>
        }*@
        
        

        @* Lista modela. *@
        <dd>
            <p>
                @Html.ActionLink("Create New Model", "Create", "VehicleModel", new { id = @Model.Id }, null)
            </p>
            <p>
                @Html.Action("_VehicleModelList", "VehicleModel", new { makeId = Model.Id, orderBy = ViewBag.CurrentSortParam, sortOrder = ViewBag.CurrentSortOrder, currentFilter = ViewBag.CurrentFilter })
            </p>
        </dd>
        
    </dl>

</div>

@*<br />
Page @(Model.VehicleModels.PageCount < Model.VehicleModels.PageNumber ? 0 : Model.VehicleModels.PageNumber) of @Model.VehicleModels.PageCount
@Html.PagedListPager(Model.VehicleModels, pageNumber => Url.Action("Details", new { pageNumber, orderBy = ViewBag.CurrentSortParam, sortOrder = ViewBag.CurrentSortOrder, currentFilter = ViewBag.CurrentFilter }))*@

<p>
    @Html.ActionLink("Edit", "Edit", new { id = Model.Id }) |
    @Html.ActionLink("Back to List", "Index")
</p>
